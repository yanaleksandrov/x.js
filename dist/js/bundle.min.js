!function(){"use strict";!function(){function e(e,t){if(Array.isArray(t))t=t.join(" ");else if("function"==typeof t)t=t();else if("object"==typeof t&&null!==t)return function(e,t){let n=Object.entries(t),r=e=>e.split(" ").filter(Boolean),i=n.flatMap((([e,t])=>!!t&&r(e))).filter(Boolean),s=n.flatMap((([e,t])=>!t&&r(e))).filter(Boolean);const a=i.filter((t=>!e.classList.contains(t)&&(e.classList.add(t),!0))),o=s.filter((t=>e.classList.contains(t)&&(e.classList.remove(t),!0)));return()=>{o.forEach((t=>e.classList.add(t))),a.forEach((t=>e.classList.remove(t)))}}(e,t);return function(e,t){let n=t=>t.split(" ").filter((t=>!e.classList.contains(t))).filter(Boolean),r=t=>(e.classList.add(...t),()=>e.classList.remove(...t));return r(n(t=!0===t?"":t||""))}(e,t)}function t(e,n){return"object"==typeof n&&null!==n?function(e,n){let r={};return Object.entries(n).forEach((([t,n])=>{r[t]=e.style[t],t.startsWith("--")||(t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),e.style.setProperty(t,n)})),setTimeout((()=>0===e.style.length&&e.removeAttribute("style"))),()=>t(e,r)}(e,n):((e,t)=>{let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}})(e,n)}function n(e,t,n){let r;return function(){let i=this,s=arguments,a=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(i,s)}),t),a&&e.apply(i,s)}}function r(e,t,n={},r=!1){return e=r?`with($data){${e}}`:`var result;with($data){result=${e}};return result`,new Function(["$data",...Object.keys(n)],e)(t,...Object.values(n))}function i(e){const t=/^(x-|x.|@|:)/;return[...e.attributes].filter((({name:e})=>t.test(e))).map((({name:e,value:n})=>{const r=e.match(t)[0],i=e.replace(r,""),s=i.split(".");return{attribute:e,directive:"x-"===r?e:":"===r?"x-bind":"",event:"@"===r?s[0]:"",expression:n,prop:"x."===r?s[0]:"",modifiers:"x."===r?s.slice(1):i.split(".").slice(1)}}))}function s(n,r,i){"value"===r?"radio"===n.type?n.checked=n.value===i:"checkbox"===n.type?n.checked=Array.isArray(i)?i.some((e=>e===n.value)):!!i:"SELECT"===n.tagName?function(e,t){const n=[].concat(t).map((e=>e+""));Array.from(e.options).forEach((e=>{e.selected=n.includes(e.value||e.text)}))}(n,i):n.value=i:"class"===r?function(t,n){t._x_undoAddedClasses&&t._x_undoAddedClasses();t._x_undoAddedClasses=e(t,n)}(n,i):"style"===r?function(e,n){e._x_undoAddedStyles&&e._x_undoAddedStyles();e._x_undoAddedStyles=t(e,n)}(n,i):["disabled","readonly","required","checked","autofocus","autoplay","hidden"].includes(r)?i?n.setAttribute(r,""):n.removeAttribute(r):n.setAttribute(r,i)}function a(e,t={}){return new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0})}function o(e,t,n=""){return e[e.indexOf(t)+1]||n}function l(e,t){t(e);let n=e.firstElementChild;for(;n;){if(n.hasAttribute("x-data"))return;l(n,t),n=n.nextElementSibling}}function c(e,t,n,r){let i,s=e.tagName.toLowerCase();return i="checkbox"===e.type?Array.isArray(t[n])?`$el.checked ? ${n}.concat([$el.value]) : [...${n}.splice(0, ${n}.indexOf($el.value)), ...${n}.splice(${n}.indexOf($el.value)+1)]`:"$el.checked":"select"===s&&e.multiple?`Array.from($el.selectedOptions).map(option => ${r.includes("number")?"parseFloat(option.value || option.text)":"option.value || option.text"})`:r.includes("number")?"parseFloat($el.value)":r.includes("trim")?"$el.value.trim()":"$el.value",e.hasAttribute("name")||e.setAttribute("name",n),`${n} = ${i}`}class u{constructor(e){this.el=e,this.rawData=r(e.getAttribute("x-data")||"{}",{}),this.rawData=function(e,t){const n={};return l(e,(e=>{i(e).forEach((i=>{let{modifiers:s,prop:o,expression:l}=i;if(o){let l;if("checkbox"===e.type&&(n[o]=n[o]||{},n[o][e.value]=e.checked,l=Object.keys(n[o]),t[o]=l.length>1?l.filter((e=>n[o][e])):""),function(e){return["input","select","textarea"].includes(e.tagName.toLowerCase())}(e)){let n=c(e,t,o,s);Array.isArray(l)&&1!==l.length||(t[o]=r(n,t,{$el:e}))}document.dispatchEvent(a("x:fetched",{el:e,data:t,attribute:i}))}}))})),t}(e,this.rawData),this.data=this.wrapDataInObservable(this.rawData),this.initialize(e,this.data)}evaluate(e,t){let n=[];return{output:r(e,new Proxy(this.data,{get(e,t){return n.push(t),e[t]}}),t),deps:n}}wrapDataInObservable(e){let t=this;return t.concernedData=[],new Proxy(e,{set(e,n,r){const i=Reflect.set(e,n,r);return-1===t.concernedData.indexOf(n)&&t.concernedData.push(n),t.refresh(),i}})}initialize(e,t,n){const r=this;l(e,(e=>{i(e).forEach((i=>{let{directive:a,event:o,expression:l,modifiers:u,prop:d}=i;if(o&&r.registerListener(e,o,u,l),d){let i=["select-multiple","select","checkbox","radio"].includes(e.type)||u.includes("lazy")?"change":"input";r.registerListener(e,i,u,c(e,t,d,u));let{output:a}=r.evaluate(d,n);s(e,"value",a)}if(a in x.directives){let t=l;if("x-for"!==a)try{({output:t}=r.evaluate(l,n))}catch(e){}x.directives[a](e,t,i,x,r)}}))}))}refresh(){const e=this;n((()=>{l(e.el,(t=>{i(t).forEach((n=>{let{directive:r,expression:i,prop:o}=n;if(o){let{output:r,deps:i}=e.evaluate(o);e.concernedData.filter((e=>i.includes(e))).length>0&&(s(t,"value",r),document.dispatchEvent(a("x:refreshed",{attribute:n,output:r})))}if(r in x.directives){let s=i,a=[];if("x-for"!==r)try{({output:s,deps:a}=e.evaluate(i))}catch(e){}else[,a]=i.split(" in ");e.concernedData.filter((e=>a.includes(e))).length>0&&x.directives[r](t,s,n,x,e)}}))})),e.concernedData=[]}),0)()}registerListener(e,t,r,i){const s=this,l=[];function c(a){r.includes("prevent")&&a.preventDefault(),r.includes("stop")&&a.stopPropagation();let u=0;if(r.includes("delay")){const e=o(r,"delay").split("ms")[0];u=isNaN(e)?250:Number(e)}n((()=>{s.runListenerHandler(i,a),r.includes("once")&&(e.removeEventListener(t,c),a instanceof IntersectionObserverEntry&&function(e){const t=l.findIndex((t=>t.el===e));if(t>=0){const{observer:n}=l[t];n.unobserve(e),l.splice(t,1)}}(a.target))}),u)()}if(r.includes("outside"))document.addEventListener(t,(t=>{e.contains(t.target)||e.offsetWidth<1&&e.offsetHeight<1||this.runListenerHandler(i,t)}));else if("load"===t)c(a("load",{}));else if("intersect"===t){const t=new IntersectionObserver((e=>e.forEach((e=>e.isIntersecting&&c(e)))));t.observe(e),l.push({el:e,observer:t})}else e.addEventListener(t,c)}runListenerHandler(e,t){const n={};Object.keys(x.methods).forEach((e=>n[e]=x.methods[e](t,t.target)));let i={},s=t.target;for(;s&&!(i=s.__x_for_data);)s=s.parentElement;r(e,this.data,{$el:t.target,$event:t,$refs:this.getRefsProxy(),...i,...n},!0)}getRefsProxy(){let e=this;return new Proxy({},{get(t,n){let r;return l(e.el,(e=>{e.hasAttribute("x-ref")&&e.getAttribute("x-ref")===n&&(r=e)})),r}})}}const d={directives:{},methods:{},start:async function(){await new Promise((e=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()})),this.discoverComponents((e=>this.initializeElement(e))),this.listenUninitializedComponentsAtRunTime((e=>this.initializeElement(e)))},discoverComponents:e=>{Array.from(document.querySelectorAll("[x-data]")).forEach(e)},listenUninitializedComponentsAtRunTime:e=>{new MutationObserver((t=>t.forEach((t=>Array.from(t.addedNodes).filter((e=>1===e.nodeType&&e.matches("[x-data]"))).forEach(e))))).observe(document.querySelector("body"),{childList:!0,attributes:!0,subtree:!0})},initializeElement:e=>{e.__x=new u(e)}},f=(e,t)=>{if(e){if("cookie"===t){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()\[\]\\\/+^])/g,"\\$1")+"=([^;]*)"));if(t){let e=decodeURIComponent(t[1]);try{return JSON.parse(e)}catch(t){return e}}}return"local"===t?localStorage.getItem(e):void 0}},p=(e,t,n,r={path:"/"})=>{if(e){if(t instanceof Object&&(t=JSON.stringify(t)),"cookie"===n){(r=r||{}).expires instanceof Date&&(r.expires=r.expires.toUTCString());let n=encodeURIComponent(e)+"="+encodeURIComponent(t);for(let e in r){n+="; "+e;let t=r[e];!0!==t&&(n+="="+t)}document.cookie=n}"local"===n&&(t?localStorage.setItem(e,t):localStorage.removeItem(e))}};function h(e){let t=e.charAt(e.length-1),n=parseInt(e,10);const r={y:"FullYear",m:"Month",d:"Date",h:"Hours",i:"Minutes",s:"Seconds"};if(t in r){const e=new Date,i=r[t];return e[`set${i}`](e[`get${i}`]()+n),e}return null}function m(e){return["cookie","local"].some((t=>e.includes(t)))}function y(e){return e.includes("cookie")?"cookie":"local"}document.addEventListener("x:refreshed",(({detail:e})=>{const{modifiers:t,prop:n}=e.attribute;if(m(t)){const r=y(t),i=o(t,r);e.output?p(n,e.output,r,{expires:h(i),secure:!0}):p(n,null,r,{expires:new Date,path:"/"})}})),document.addEventListener("x:fetched",(({detail:e})=>{const{data:t,attribute:{modifiers:n,prop:r}}=e;if(m(n)){const e=y(n),i=f(r,e);t[r]=function(e,t){switch(typeof e){case"string":return String(t);case"number":return Number.isInteger(e)?parseInt(t,10):parseFloat(t);case"boolean":return Boolean(t);case"object":return e instanceof Date?new Date(t):Array.isArray(e)?Array.from(t):Object(t);case"undefined":return null===e?null:"true"===t||"false"!==t&&t;default:return t}}(t[r],i)}}));function b(e,t){e=`x-${e}`,d.directives[e]?console.warn(`X.js: directive '${e}' is already exists.`):d.directives[e]=t}b("for",((e,t,n,i,s)=>{if("string"!=typeof t)return;const[,a,o="key",l]=t.match(/^\(?(\w+)(?:,\s*(\w+))?\)?\s+in\s+(\w+)$/)||[],c=r(`${l}`,s.data);for(;e.nextSibling;)e.nextSibling.remove();c.forEach(((t,n)=>{const r=e.cloneNode(!0);r.removeAttribute("x-for"),(async()=>{r.__x_for_data={[a]:t,[o]:n},await s.initialize(r,s.data,r.__x_for_data),e.parentNode.appendChild(r)})()}))})),b("bind",((e,t,{attribute:n},r,i)=>{":attributes"===n&&"object"==typeof t?Object.entries(t).forEach((([t,n])=>s(e,t,n))):s(e,n.replace(":",""),t)})),b("html",((e,t,n,r,i)=>{e.innerHTML=t})),b("text",((e,t,n,r,i)=>{e.innerText=t})),b("show",((e,t,n,r,i)=>{e.style.display=t?"block":"none"}));const v=1048576;var g,w;function A(e,t){const{loaded:n=0,total:r=0,type:i}=e,{response:s="",responseText:a="",status:o="",responseURL:l=""}=t;return{blob:new Blob([s]),json:JSON.parse(a||"[]"),raw:s,status:o,url:l,loaded:$(n),total:$(r),percent:r>0?Math.round(n/r*100):0,start:"loadstart"===i,progress:"progress"===i,end:"loadend"===i}}function $(e){return Math.round(e/v*100)/100}w=(e,t)=>(e,n={},r)=>{let i=t.tagName.toLowerCase(),s="form"===i?"post":"get",a="form"===i?new FormData(t):new FormData,o=new XMLHttpRequest;switch(i){case"form":Array.from(t.querySelectorAll("input[type='file']")).forEach((e=>{e.files&&[...e.files].forEach((t=>a.append(e.name,t)))}));break;case"textarea":case"select":case"input":"file"===t.type&&t.files?Array.from(t.files).forEach((e=>a.append(t.name,e))):t.name&&a.append(t.name,t.value)}return new Promise((t=>{o.open(s,e);for(const e in n.headers)o.setRequestHeader(e,n.headers[e]);o.withCredentials="include"===n.credentials,o.onloadstart=o.upload.onprogress=e=>r?.(A(e,o)),o.onloadend=e=>t((()=>r?.(A(e,o)))),o.send(a)})).then((e=>e()))},g=`$${g="fetch"}`,d.methods[g]?console.warn(`X.js: method '${g}' is already exists.`):d.methods[g]=w,window.x=d,window.x.start()}()}();